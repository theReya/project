<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>حذف قطع</title>
    <link rel="stylesheet" href="removepartc.css">
</head>
<body>
    
    <h2>حذف قطع</h2>
    <header class="navbar">
        <div class="navbar-container">
            <a href="admin.html" class="navbar-link home-link">العودة إلى الصفحة الرئيسية</a>
            <a href="aboutad.html" class="navbar-link contact-link">من نحن</a>
        </div>
    </header>
    <img src="cropimage.png" alt="شعار" class="logo">
    <main>
        <h2>حذف قطع</h2>
        <table>
            <thead>
                <tr>
                    <th>اسم القطعة</th>
                    <th>الكمية</th>
                </tr>
            </thead>
            <tbody id="partsTableBody">
                <tr>
                    <td>المعالج</td>
                    <td id="cpu-quantity">5</td>
                </tr>
                <tr>
                    <td>الذاكرة العشوائية DDR0</td>
                    <td id="ddr0-quantity">10</td>
                </tr>
                <tr>
                    <td>الذاكرة العشوائية DDR1</td>
                    <td id="ddr1-quantity">10</td>
                </tr>
                <tr>
                    <td>الذاكرة العشوائية DDR2</td>
                    <td id="ddr2-quantity">10</td>
                </tr>
                <tr>
                    <td>الذاكرة العشوائية DDR3</td>
                    <td id="ddr3-quantity">10</td>
                </tr>
                <tr>
                    <td>الذاكرة العشوائية DDR4</td>
                    <td id="ddr4-quantity">10</td>
                </tr>
                <tr>
                    <td>الذاكرة العشوائية DDR5</td>
                    <td id="ddr5-quantity">10</td>
                </tr>
                <tr>
                    <td>القرص الصلب (HDD)</td>
                    <td id="hdd-quantity">8</td>
                </tr>
                <tr>
                    <td>بطاقة الرسومات</td>
                    <td id="gpu-quantity">4</td>
                </tr>
                <tr>
                    <td>لوحة الأم</td>
                    <td id="motherboard-quantity">6</td>
                </tr>
                <tr>
                    <td>لوحة مفاتيح USB</td>
                    <td id="keyboard-quantity">12</td>
                </tr>
                <tr>
                    <td>فأرة</td>
                    <td id="mouse-quantity">15</td>
                </tr>
                <tr>
                    <td>فأرة USB</td>
                    <td id="usb-mouse-quantity">10</td>
                </tr>
            </tbody>
        </table>

        <div class="remove-part-container">
            <label for="partSelect">اختر نوع القطعة:</label>
            <select id="partSelect" class="part-select">
                <option value="">-- اختر نوع القطعة --</option>
                <option value="المعالج">المعالج</option>
                <option value="الذاكرة العشوائية DDR0">الذاكرة العشوائية DDR0</option>
                <option value="الذاكرة العشوائية DDR1">الذاكرة العشوائية DDR1</option>
                <option value="الذاكرة العشوائية DDR2">الذاكرة العشوائية DDR2</option>
                <option value="الذاكرة العشوائية DDR3">الذاكرة العشوائية DDR3</option>
                <option value="الذاكرة العشوائية DDR4">الذاكرة العشوائية DDR4</option>
                <option value="الذاكرة العشوائية DDR5">الذاكرة العشوائية DDR5</option>
                <option value="القرص الصلب (HDD)">القرص الصلب (HDD)</option>
                <option value="بطاقة الرسومات">بطاقة الرسومات</option>
                <option value="لوحة الأم">لوحة الأم</option>
                <option value="لوحة مفاتيح USB">لوحة مفاتيح USB</option>
                <option value="فأرة">فأرة</option>
                <option value="فأرة USB">فأرة USB</option>
            </select>

            <label for="removeQuantity">الكمية المراد حذفها:</label>
            <input type="number" class="quantity-input" id="removeQuantity" placeholder="الكمية">
            <button class="remove-part-button" onclick="removePart()">حذف قطعة</button>
        </div>
    </main>

    <footer>
        <p class="footer-text">جميع الحقوق محفوظة © 2024</p>
    </footer>

    <div id="toast" class="toast"></div>

    <script>
        function removePart() {
            const partName = document.getElementById('partSelect').value;
            const removeQuantity = parseInt(document.getElementById('removeQuantity').value);
            const tableBody = document.getElementById('partsTableBody');
            const rows = tableBody.getElementsByTagName('tr');

            if (!partName) {
                showToast('يرجى اختيار نوع القطعة');
                return;
            }

            if (isNaN(removeQuantity) || removeQuantity <= 0) {
                showToast('يرجى إدخال كمية صحيحة');
                return;
            }

            let partFound = false;
            for (let i = 0; i < rows.length; i++) {
                const cell = rows[i].getElementsByTagName('td')[0]; // اسم القطعة
                const quantityCell = rows[i].getElementsByTagName('td')[1]; // الكمية

                if (cell && cell.textContent === partName) {
                    const currentQuantity = parseInt(quantityCell.textContent);
                    const newQuantity = currentQuantity - removeQuantity;

                    if (newQuantity < 0) {
                        showToast(`الكمية المدخلة (${removeQuantity}) أكبر من المتاحة!`);
                    } else {
                        quantityCell.textContent = newQuantity; // تحديث الكمية
                        showToast(`تم حذف ${removeQuantity} قطع من " ${partName} " بنجاح`);
                    }
                    partFound = true;
                    break;
                }
            }

            if (!partFound) {
                showToast(`نوع القطعة (${partName}) غير موجود`);
            }
        }

        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.classList.add('show');

            // إخفاء الـ "toast" بعد 3 ثواني
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }
    </script>
</body>
</html>
